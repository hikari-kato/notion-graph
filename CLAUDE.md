
# Notion支出管理グラフビューワー - 要求仕様書

## 📌 概要

個人のNotionユーザーが、自身の支出管理データベースを元に、支払方法やカテゴリ別の内訳、月ごとの合計支出を視覚的に把握できるWebアプリケーションを開発する。

---

## 🎯 対象ユーザー

- 個人のNotionユーザー（デモ用途）

---

## 📊 対象データベース構成（Notion）

使用するNotionデータベースは以下の構成とする：

| カラム名   | 型         | 説明                             |
|------------|------------|----------------------------------|
| 日付       | Date       | 支出が発生した日付               |
| 金額       | Number     | 支出金額（円）                   |
| カテゴリ   | Select     | 食費、交通費、交際費などの分類   |
| 支払方法   | Select     | 現金、クレジット、電子マネーなど |
| メモ       | Text       | 支出の詳細（任意）               |

---

## 📈 可視化するグラフ

以下の3種類のグラフを表示する：

1. **支払方法の内訳グラフ**（円グラフ）
2. **月ごとの合計支出グラフ**（棒グラフ）
3. **カテゴリ別の支出傾向グラフ**（積み上げ棒グラフ または グループ棒グラフ）

※日別の支出トレンド表示は行わない。

---

## 💻 表示形式

- **Webアプリケーション**上で動作し、インタラクティブに操作可能
- 将来的には **Vercel にデプロイ**してテスト用Webページとして公開可能にする
- デモ段階では **ローカル環境での開発・動作確認が優先**

---

## 🛠️ 技術スタック

- **フレームワーク**：React または Next.js（開発側で扱いやすい方を使用）
- **グラフライブラリ**：Recharts（React向け軽量グラフ描画ライブラリ）
- **Notion API**：Notion公式SDK（JavaScript版）
- **認証方式**：個人用の内部統合（OAuth認証は不要）

---

## 🔐 認証・API接続

- ユーザー自身が作成した **Notion内部統合のトークン**を使ってデータベースに接続
- データベースIDなどは設定ファイルや環境変数で読み込む方式とする

---

## 📦 その他要件

- レスポンシブ対応は簡易でよいが、スマホでも読み取れるような可視性を意識
- グラフ描画が失敗した場合は、適切なエラーメッセージを表示
- データが空の場合もわかりやすいUIにする

---

## 🧪 テスト方針

- ローカル環境で動作確認後、Vercelにテストデプロイを行い、確認を進める

---

## 🚧 今後の展望（任意）

- Notionの他データベース（習慣トラッカーなど）にも応用可能に拡張
- PDF/PNGエクスポート機能の追加
- シェア可能なURL生成 など
